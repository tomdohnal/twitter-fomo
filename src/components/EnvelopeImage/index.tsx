import React from 'react';
import * as R from 'ramda';
import { useSprings, config } from 'react-spring';
import { useInView } from 'react-intersection-observer';
import { Box } from '@chakra-ui/core';
import Logos from './Logos';
import Flowers from './Flowers';

const Index: React.FC<{ baseDelay?: number }> = ({ baseDelay = 0 }) => {
  const [svgRef, inView] = useInView({
    threshold: 0.5,
    triggerOnce: true,
  });
  const logosAnimatedValues = useSprings(
    4,
    R.range(0, 4).map((i) => ({
      x: inView ? 0.95 : 0,
      opacity: inView ? 1 : 0,
      config: config.slow,
      delay: baseDelay + i * 200,
    })),
  );
  const flowerAnimatedValues = useSprings(3, [
    {
      transform: inView
        ? 'rotate(0deg) translate3d(0px, 0px, 0px)'
        : 'rotate(45deg)  translate3d(100px, 50px, 0px)',
      opacity: inView ? 1 : 0,
      config: config.slow,
      delay: baseDelay + 1000,
    },
    {
      transform: inView
        ? 'rotate(0deg) translate3d(0px, 0px, 0px)'
        : 'rotate(45deg)  translate3d(100px, 50px, 0px)',
      opacity: inView ? 1 : 0,
      config: config.slow,
      delay: baseDelay + 1050,
    },
    {
      transform: inView
        ? 'rotate(0deg) translate3d(0px, 0px, 0px)'
        : 'rotate(45deg)  translate3d(-30px, 30px, 0px)',
      opacity: inView ? 1 : 0,
      config: config.slow,
      delay: baseDelay + 1100,
    },
  ]);
  return (
    <Box
      as="svg"
      ref={svgRef}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 -100 478 318"
      fill="none"
    >
      <g>
        <path
          fill="#A30664"
          d="M276.5.4A184 184 0 00223.7 4a75.3 75.3 0 00-43.2 26.3c-5.6 7.7-9 16.6-15.4 23.6-11.3 12.2-29.7 16.4-46.7 20.6-40 9.8-80 24-109 50.6-4.2 3.8-8.3 8.2-9.2 13.5-1.4 8 5 15.6 12 20.8 7 5.2 15.4 9.3 20.6 16 6.6 8.6 7 20 5.1 30.3-1.9 10.3-5.7 20.3-6.8 30.8-.2 2.5-.3 5.2.8 7.6 1.5 3.1 4.8 5.3 8 7a130 130 0 0036.6 13.8c22 4.8 45 3.9 67.6 5.8 22.6 2 46.1 7.4 62 22 9.7 8.9 18.5 22 32.4 21.5 7.8-.3 14.7-5 22.4-5.6 8.8-.5 16.7 4.2 24.9 7a49.4 49.4 0 0036.2-2c11-5.2 19-15.6 19.6-26.8.6-11-5.3-21.2-8.8-31.8-11.2-34.5 4.6-71 20.4-104 15.7-33 32-69.2 21.5-104C362.5 6.8 315.4 2.4 276.5.5z"
          opacity="0.1"
        />
        <Flowers animatedValues={flowerAnimatedValues} />
        <path fill="url(#paint0_linear)" d="M178.4 67.6L74.7 164.2v142.1H282V164.2L178.4 67.6z" />
        <path fill="#E8EAF1" d="M279.8 303.8H76.9V164.7l101.5-94.5 101.4 94.5v139z" />
        <path fill="#000" d="M279 164.7H77v138.9h202V164.7z" opacity="0.1" />
        <path
          fill="#A30664"
          d="M149.7 200h-7v-6.3a4.5 4.5 0 00-4.5-4.4h-21a4.5 4.5 0 00-4.5 4.4v21a4.5 4.5 0 004.5 4.5h7v6.3a4.5 4.5 0 004.5 4.5h21a4.5 4.5 0 004.4-4.5v-21a4.5 4.5 0 00-4.4-4.4z"
          opacity="0.5"
        />
        <path
          fill="#A30664"
          d="M239.5 186h-21a4.5 4.5 0 00-4.5 4.6v9.8h-10.5a4.5 4.5 0 00-4.4 4.5V215h-9.9a4.5 4.5 0 00-4.5 4.5v21a4.5 4.5 0 004.5 4.5h21a4.5 4.5 0 004.4-4.5v-10.2h10a4.5 4.5 0 004.4-4.4V216h10.5a4.5 4.5 0 004.5-4.5v-21a4.5 4.5 0 00-4.5-4.4z"
          opacity="0.5"
        />
        <path
          fill="url(#paint1_linear)"
          d="M133.9 155.6a4.3 4.3 0 002.6 2.4l1.5.3c2.5.6 4.2 2.8 6.5 4l.6.1h.2c.2 0 .5 0 .6-.2l.1-.1c.3 1 .3 2 .1 3-.8 0-6.6.4-5.9 7.2 1 7.4 9.5 17.8 9.5 17.8s6 6.1 4 27l-.1 10.2 5.2-.7a13.6 13.6 0 003.4 4.3l4.9 11.7 1 2c0 2.4-1.5 4.5-1.5 4.5-9.4 2.8-13.3 12.7-13.3 12.7s-5.3 3.2-6.4 6.8c-2.3 1.8-2.1 6.8-2.1 6.8s7.9 4.2 13.7 6.5l2 .6-1.2 2.7c-1.3.4-1.4 7-1.4 7s14.1 10.3 18.4 10.9c4.3.6 8-2.3 3.4-4.5-3.6-1.7-7.6-8.2-9-10.6a51.3 51.3 0 007.8-13.7c.4-3.8 5.8-7 5.8-7 7.7-8.2 2.5-18 1.9-23v-.3c-.5-2.2-1.1-4.4-1.9-6.5.9-5.4 1.5-13.7 2-19.2l3.3 1.2c3.2-6.3-7.5-32.5-10.6-39.8 1.8-.6 5-1.5 9.3-2.5 7.5-1.7 8-5.5 8-5.5l5.8-15.6a4 4 0 01-2.2 0v-.4c0-1.5.2-3.9.6-4.3l-3.1-.2v-.2l.8-9.5s-1.1-10.6-4.8-9.1c-2.9 1.1-2.5 10.7-2.2 14.4 0 .9.3 1.8.8 2.6l.2.5.2.3-.5-.3v3.3l-.6-.3c.2 3.6-4.3 15.6-4.3 15.6s-8-.8-10.5.9c-1.9 1.2-4.4-1.2-5.5-2.5l5.5-12.1-2-.5.1-.5c.3-1.5.8-3.6 1.5-3.9l-3-1.4v-.4c.4-2 1-6.7-.2-9.8-1.7-4.3-2.4-12.5-5.6-10.6-2.6 1.5-2.7 10.6-2.6 14.3 0 1 .2 2 .7 2.9l1.2 2.3.2.4h-.2v2.9l-.8-.6c-.1 4-2.8 9.5-5.4 13.9l-1.4-1-.3-.3-1.4-.4c-1.1-2-1.7-4.6-2-6.6l-.2-.6a8.5 8.5 0 00-1.3-9.1 8.7 8.7 0 00-5.2-3l.4-.4c.2 0 .4.1 1-.2.7-.3 1.5-.8 1.5-1.6 0-.5-.4-1-1-1.3-1-.7-1-2-2-2-.3 0-.5 0-.7.2-1 .3-1.7.9-2.6 1.2-.7.3-1.4.5-2 .5l-1.4.1c-.3 0-.7.2-1 .4-2 1-4.2 2.7-4.8 4.8-.6 2 .2 4.5-1.3 5.9l-.7.7-.4 1c-.3 1.2-.2 2.4.3 3.5zm39.3 101.7c0 1-.2 1.7-.8 2-3.2 1.3-6.8 12.9-6.8 12.9l-2.5 5a65 65 0 01-5.5-4.7l.3-1.8s6.8-5 7.3-6.6c.3-1.1 5.8-5.3 8-6.8z"
        />
        <path
          fill="#575988"
          d="M178 178.4s14.5 33.8 11 41c0 0-5.8-2.2-6.7-1.8-.8.4-9.2-43.6-9.2-43.6l4.8 4.4z"
        />
        <path
          fill="#000"
          d="M178 178.4s14.5 33.8 11 41c0 0-5.8-2.2-6.7-1.8-.8.4-9.2-43.6-9.2-43.6l4.8 4.4z"
          opacity="0.1"
        />
        <path
          fill="#575988"
          d="M170 286s5 9.3 9.4 11.4c4.4 2.1.8 5-3.3 4.4-4.2-.6-18-10.6-18-10.6s.1-6.6 1.4-7c1.3-.5 10.5 1.8 10.5 1.8z"
        />
        <path
          fill="#575988"
          d="M156.9 270.7s7 7.1 10.2 7.8c3 .6-2.7 4.8-8.4 2.5-5.6-2.3-13.3-6.5-13.3-6.5s-.2-6.7 3.3-7.3c3.6-.6 8.2 3.5 8.2 3.5z"
        />
        <path
          fill="#67647E"
          d="M186 212.8s-1.4 25.4-3.3 29c-1.8 3.5-9 14.3-9 14.3s-8 5.9-8.5 7.3c-.4 1.5-7 6.5-7 6.5l-.5 3s-11-.7-10.4-4.5c.6-3.7 6.5-7.3 6.5-7.3s3.7-9.7 12.9-12.5c0 0 2.9-4.1.4-7.5 0 0-6.3-15.6-9.8-17.5-3.5-1.9 1.5-12.7 1.5-12.7l27.3 1.9z"
        />
        <path
          fill="#000"
          d="M186 212.8s-1.4 25.4-3.3 29c-1.8 3.5-9 14.3-9 14.3s-8 5.9-8.5 7.3c-.4 1.5-7 6.5-7 6.5l-.5 3s-11-.7-10.4-4.5c.6-3.7 6.5-7.3 6.5-7.3s3.7-9.7 12.9-12.5c0 0 2.9-4.1.4-7.5 0 0-6.3-15.6-9.8-17.5-3.5-1.9 1.5-12.7 1.5-12.7l27.3 1.9z"
          opacity="0.1"
        />
        <path
          fill="#67647E"
          d="M165.6 271.4l-6.6 14c1 3.5 11 2.2 11 2.2s7.7-10.4 8.2-14.1c.4-3.8 5.6-7 5.6-7 7.5-8 2.5-17.6 1.9-22.6v-.3c-.6-3.4-4-13-6.6-20.3l-3.2-8.6s-14 .6-17 5.6c-1.3 2.3-.7 4.7.4 6.6.8 1.4 1.8 2.7 3 3.9l4.8 11.4s8.4 15.2 5.2 16.5c-3.1 1.2-6.7 12.7-6.7 12.7z"
        />
        <path
          fill="#F7C4A7"
          d="M190.6 147.7c0 1 .3 1.9.7 2.7l.3.4 1.2 2.1h3.7v-1l.8-9.4s-1-10.4-4.5-9c-2.9 1.2-2.5 10.6-2.3 14.2z"
        />
        <path fill="#000" d="M191.6 150.8l1.2 2.1h3.7v-1a14 14 0 01-5-1z" opacity="0.1" />
        <path fill="#E6E6F0" d="M191.3 150.9v4.8l7.7 2v-1.2c0-1.4.2-3.8.6-4.2 0 0-6.2 0-8.3-1.4z" />
        <path fill="#000" d="M191.3 153.7v2l7.7 2v-1.2c-2.5-.4-6.2-2.1-7.7-2.8z" opacity="0.1" />
        <path
          fill="#F7C4A7"
          d="M146.3 161.6c1.5 4.4-.5 6.4-.5 6.4s18.8 1.2 14.2-2.1c-2.7-2-3.9-6.3-4.4-9.5l-.4-4s-15-.3-11.9 3.9a20 20 0 013 5.3z"
        />
        <path
          fill="#000"
          d="M143.3 156.3c1.5 2 2 2.3 2.6 3.8l1.4.1c3.6 0 7-.7 8.3-3.8-.2-1.4-.4-2.7-.4-4 0 0-15-.3-11.9 3.9z"
          opacity="0.1"
        />
        <path fill="#F7C4A7" d="M147.7 160.9a8.5 8.5 0 100-17.1 8.5 8.5 0 000 17z" />
        <path
          fill="#575988"
          d="M190.7 153.8s8.1 4.1 10.4 3.1l-5.6 15.4s-.4 3.8-7.8 5.5c-7.3 1.6-10.8 3-10.8 3l-13.6-16 7 2s3.5 5 6 3.3c2.5-1.7 10.2-.9 10.2-.9s4.4-11.9 4.2-15.4z"
        />
        <path
          fill="#000"
          d="M190.7 153.8s8.1 4.1 10.4 3.1l-5.6 15.4s-.4 3.8-7.8 5.5c-7.3 1.6-10.8 3-10.8 3l-13.6-16 7 2s3.5 5 6 3.3c2.5-1.7 10.2-.9 10.2-.9s4.4-11.9 4.2-15.4z"
          opacity="0.1"
        />
        <path
          fill="#000"
          d="M159 163.6s-11-3.1-12.2 2.7c0 0 5-2.5 12.4 2l1.6 1c6.4 4.5 10.9 11.4 12.7 19.3l4.7 20.4.4 5.5s6.6 1.3 8-.6c1.2-2 .3-8.6-1.5-10.8a57.6 57.6 0 01-4.9-11.6l-1.8-5.5c-1.5-4.6-4-8.8-7.1-12.5l-.5-.5c-2.7-3.3-6.2-6-10.2-7.6-1-.5-1.8-1-1.6-1.8z"
          opacity="0.1"
        />
        <path
          fill="#E6E6F0"
          d="M159 163.2s-11-3.1-12.2 2.7c0 0 5-2.5 12.4 1.9l1.6 1c6.4 4.5 10.9 11.5 12.7 19.4l4.7 20.4.4 5.5s6.6 1.3 8-.7c1.2-2 .3-8.5-1.5-10.7-2-2.2-4.8-11.6-4.8-11.6l-1.9-5.5c-1.5-4.6-4-8.9-7.1-12.5l-.5-.5a27.4 27.4 0 00-10.2-7.7c-1-.4-1.8-1-1.6-1.7z"
        />
        <path
          fill="#000"
          d="M186.7 205.2l-.1 3.6-3-1.9s-5.1-18.9-8.8-24c-.4-.7-.6-1.6-1-1.7l-15-14.4v-3.3s7.7 5.6 8.3 6.6c.3.5 4.3 2.7 6.7 6 2.1 3.2 4 6.5 5.7 10l5 11.2 2.2 8z"
          opacity="0.1"
        />
        <path
          fill="#787C9C"
          d="M158.9 163.3v3.2l15 14.5c.5.1.7 1 1.1 1.7 3.7 5.1 8.9 24 8.9 24l3 2V205l-2.2-7.8-5-11.3a75.6 75.6 0 00-5.7-9.9c-2.4-3.4-6.4-5.6-6.7-6-.5-1-6.4-5.2-8-6.4l-.4-.3z"
        />
        <path
          fill="#000"
          d="M150.6 143.2c.6-.3 1.4-.8 1.4-1.5a1.7 1.7 0 00-1-1.3c-1.1-.8-1-2.3-2.4-1.8-.9.3-1.7.9-2.6 1.2-.6.3-1.3.5-2 .5l-1.2.1c-.4 0-.7.2-1 .4a8.4 8.4 0 00-4 5c-.5 1.8-.5 4.1-2 5.5l-.6.7c-.2.3-.4.7-.4 1-.3 1.1-.2 2.4.3 3.5a4.2 4.2 0 002.5 2.3l1.5.4c2.4.6 4 2.7 6.2 3.8l.6.2c.2 0 .5-.1.6-.3.9-.6 1.6-1.5 1.5-2.5 0-.7-.2-1.3-.5-1.9a18 18 0 01-1-3.4c-.1-.2-.1-.5 0-.8 0-.5.6-.7 1-1 .8-.8.8-2 .6-2.9-.3-1-.9-1.8-1.3-2.7l-.2-1c0-1.1 1.6-1.8 2.3-2.6 1-1 .4-.2 1.7-.9z"
          opacity="0.1"
        />
        <path
          fill="#B96B6B"
          d="M150.3 143.2c.7-.3 1.4-.8 1.4-1.5a1.7 1.7 0 00-.8-1.3c-1.2-.8-1.1-2.3-2.5-1.8-1 .3-1.7.9-2.6 1.2-.6.3-1.3.5-2 .5-.4 0-1.8-.6-2.2-.5-.3 0-.7.2-1 .4a8.4 8.4 0 00-4 4.9c-.5 2 0 4.3-1.5 5.7-.3.3 0 1-.2 1.2l-.3 1c-.3 1.2-.2 2.4.3 3.5a4.2 4.2 0 002.4 2.3l1.6.4c2.4.6 4 2.7 6.2 3.8l.6.2.6-.3c.9-.6 1.6-1.5 1.5-2.5 0-.7-.2-1.3-.5-1.9a18 18 0 01-1-3.4c-.1-.2-.2-.5 0-.8 0-.5.6-.7 1-1 .8-.7.8-2 .6-2.9-.3-1-.9-1.8-1.3-2.7-.2-.3-.2-.6-.3-1 0-1.1 1.7-1.8 2.4-2.6 1-1 .4-.2 1.6-.9z"
        />
        <path
          fill="#000"
          d="M159.3 226.9c3.8-.5 8.6-1 10.7-.6 3.4.6 8.2-2.4 9-3l-3.1-8.6s-14 .6-17 5.6c-1.3 2.3-.7 4.7.4 6.6z"
          opacity="0.1"
        />
        <path
          fill="#575988"
          d="M141 173c.9 7.3 9.2 17.5 9.2 17.5s5.9 6 4 26.7l-.2 10s12.3-2 16-1.3c3.8.7 9.2-3.1 9.2-3.1s2-36-6.9-43.6a53 53 0 00-3.6-4.9c-2.4-3-5.7-6.2-8.7-7l-1.2-.2s-9.4-5.2-12-1.2c0 0-6.6-.2-5.8 7z"
        />
        <path fill="#000" d="M179 211.8s-3.2-1.4-8.9-1c-5.6.4-15.6-4.6-15.6-4.6" opacity="0.1" />
        <path fill="#000" d="M173 258.3s-.2.7 2.5 1.5c2.8.8 3.6 1.7 3.6 1.7" opacity="0.1" />

        <path
          fill="#F7C4A7"
          d="M164.8 143c0 1 .2 2 .7 2.9l1.2 2.3.8 1.6 5.2.4.3-1.1c.4-2 1-6.6-.3-9.7-1.6-4.2-2.3-12.3-5.4-10.4-2.5 1.5-2.6 10.4-2.5 14z"
        />
        <path
          fill="#000"
          d="M166.7 148.2l.8 1.6 5.2.4.3-1.1c-1.9-.7-4.3-1.4-6.3-1z"
          opacity="0.1"
        />
        <path
          fill="#E6E6F0"
          d="M166.7 148.6v3.7l7.5 4s0-.7.3-1.6c.2-1.5.7-3.6 1.4-3.8 0 0-5.5-3.2-9.2-2.3z"
        />
        <path
          fill="#000"
          d="M146.4 182.6a8.8 8.8 0 006.7 2.2c13.2-1.3 13.6-6 13.6-6l2-4.5c-2.4-2.9-5.6-6.2-8.7-7-2.2 3.5-4.2 6-4.2 6s-9.8-7.4-12.7-.3c-1.7 4 .9 7.5 3.3 9.6z"
          opacity="0.1"
        />
        <path
          fill="#000"
          d="M166.7 150.9v1.4l7.5 4s0-.7.3-1.6c-3.3-1-6.5-3-7.8-3.8z"
          opacity="0.1"
        />
        <path
          fill="#575988"
          d="M165.9 150.9s5.6 4 10.4 4.8l-9.8 21.6s-.4 4.7-13.6 6a8.8 8.8 0 01-6.7-2.1c-2.4-2.2-5-5.6-3.3-9.7 3-7 12.7.4 12.7.4s10-13.1 10.3-21z"
        />
        <path fill="#E8EAF1" d="M77 164.7l101.4 69.5-101.5 69.6V164.7z" />
        <path fill="#E8EAF1" d="M279.8 164.7l-101.4 69.5 101.4 69.6V164.7z" />
        <path fill="url(#paint2_linear)" d="M77 303.8l97.4-75.8a6.4 6.4 0 018 0l97.4 75.8H76.9z" />
        <path fill="#E8EAF1" d="M77 303.8l97.4-72.5a6.7 6.7 0 018 0l97.4 72.5H76.9z" />
        <Logos animatedValues={logosAnimatedValues} />
      </g>
      <defs>
        <linearGradient
          id="paint0_linear"
          x1="178.4"
          x2="178.4"
          y1="306.3"
          y2="67.6"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="gray" stopOpacity="0.3" />
          <stop offset="0.5" stopColor="gray" stopOpacity="0.1" />
          <stop offset="1" stopColor="gray" stopOpacity="0.1" />
        </linearGradient>
        <linearGradient
          id="paint1_linear"
          x1="-62166"
          x2="-62166"
          y1="146266"
          y2="64520.1"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="gray" stopOpacity="0.3" />
          <stop offset="0.5" stopColor="gray" stopOpacity="0.1" />
          <stop offset="1" stopColor="gray" stopOpacity="0.1" />
        </linearGradient>
        <linearGradient
          id="paint2_linear"
          x1="116072"
          x2="116072"
          y1="64516.4"
          y2="48757.9"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="gray" stopOpacity="0.3" />
          <stop offset="0.5" stopColor="gray" stopOpacity="0.1" />
          <stop offset="1" stopColor="gray" stopOpacity="0.1" />
        </linearGradient>
        <clipPath id="clip0">
          <path fill="#fff" d="M0 0h378v318H0z" />
        </clipPath>
      </defs>
    </Box>
  );
};

export default Index;
